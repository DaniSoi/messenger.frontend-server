(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{165:function(e,t){e.exports="data:image/png;base64,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Ub7jpSPCOsZlg1QqlV3It/SlrGWYovTDU+Szh6k0w7LZk2Ib8mqQDv2VeZJ7SoaRX4uRfOMrhTvho9Tf57/WEBuXDWLIl34wqhl7kPGpsiizE8I9UCzROrsdGNkHOENeDdIOll3AH+10fmzpm6Co35/R9GsIvDns26Ki9wGIjdsGocReW5zGaOuZhHJ7bWdf4t/SyTiom8J1jL7PPIfa2cy/ti+eRY0apBluzDmMG6vV6hH82tJXrdVjffavRnLvDPO+Qs7ufEMNx89HFpm3EBu3DTKM0g8xxw3Ulz5YUGPfP381o/TjtiksY98TYq9rsl+nQc5ec1zIyJ5+qR51i1+DsG1l3ztXP1ZjjMr30LFOO73Rbgz7CgL7amn7fsJPEg+eifj9ncQbr8eqno6QS31HoZ0xf4qXRMiv31jvYy0viZBr6zsKc6i382PtwbDt/y7jIoY1n+0U2ZVR+i9PK5hrJYZ9gdDRjDMZtrPlWGK2p3BlL2sJy3T/OwpFRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERMaTJZb4P/LckW8kEsVVAAAAAElFTkSuQmCC"},166:function(e,t){e.exports="data:image/png;base64,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"},170:function(e,t,a){e.exports=a(336)},217:function(e,t){},219:function(e,t){},233:function(e,t){},235:function(e,t){},263:function(e,t){},265:function(e,t){},266:function(e,t){},272:function(e,t){},274:function(e,t){},292:function(e,t){},295:function(e,t){},311:function(e,t){},314:function(e,t){},335:function(e,t,a){},336:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchMessageById",(function(){return Q})),a.d(n,"fetchMessages",(function(){return y})),a.d(n,"sendMessage",(function(){return L})),a.d(n,"deleteMessage",(function(){return k})),a.d(n,"validateMessage",(function(){return F}));var r={};a.r(r),a.d(r,"login",(function(){return P})),a.d(r,"refreshLogin",(function(){return x})),a.d(r,"logout",(function(){return H})),a.d(r,"validateLoginForm",(function(){return K}));var c={};a.r(c),a.d(c,"register",(function(){return q})),a.d(c,"validateRegisterForm",(function(){return X})),a.d(c,"confirmUser",(function(){return Z}));var s={};a.r(s),a.d(s,"loginAction",(function(){return fe})),a.d(s,"refreshLoginAction",(function(){return ve})),a.d(s,"logoutAction",(function(){return Se}));var o={};a.r(o),a.d(o,"fetchMessagesAction",(function(){return he})),a.d(o,"fetchMessageByIdAction",(function(){return Ie})),a.d(o,"deleteMessageAction",(function(){return Re})),a.d(o,"sendMessageAction",(function(){return Oe}));var A,i=a(0),l=a.n(i),u=a(58),E=a(9),m=a(13),d=a(2),g=a(21),f=a(8),v=a(3),p=a.n(v),C=a(6),b=a(22),S=a.n(b),h=a(14),I=a.n(h);function R(e,t,a){var n=t.validate(e,{abortEarly:!1}).error;if(!n)return null;var r={};return n.details.forEach((function(e){var t=e.message.split('"',2)[1];r[t]=a[t]})),r}function O(e,t){localStorage.jwt=JSON.stringify({at:e,rt:t})}function N(){return localStorage.jwt?JSON.parse(localStorage.jwt):{}}function D(){return"Bearer ".concat(N().at)}A="http://auth-server-service:4000/api";var w="".concat("http://backend-server-service:5000/api","/messages");function Q(e){return B.apply(this,arguments)}function B(){return(B=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get("".concat(w,"/").concat(t),{headers:{authorization:D()},timeout:3e3}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return j.apply(this,arguments)}function j(){return(j=Object(C.a)(p.a.mark((function e(){var t,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"received",e.abrupt("return",S.a.get("".concat(w,"/").concat(t),{headers:{authorization:D()},timeout:3e3}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return U.apply(this,arguments)}function U(){return(U=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.post(w,t,{headers:{authorization:D()},timeout:3e3}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return G.apply(this,arguments)}function G(){return(G=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.delete("".concat(w,"/").concat(t),{headers:{authorization:D()},timeout:3e3}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return R(e,I.a.object({subject:I.a.string().min(1).max(200).required(),content:I.a.string().min(1).max(1e4).required()}),{subject:"Must be 1-200 characters long",content:"Must be 1-10000 characters long"})}var M="".concat(A,"/sessions");function P(e){return T.apply(this,arguments)}function T(){return(T=Object(C.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.abrupt("return",S.a.post(M,{email:a,password:n},{timeout:3e3}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return _.apply(this,arguments)}function _(){return(_=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.post("".concat(M,"/token"),{token:t},{timeout:3e3}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.delete(M,{headers:{authorization:D()},data:{token:t},timeout:3e3}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return R(e,I.a.object({email:I.a.string().email({minDomainSegments:2,tlds:{allow:!1}}).required(),password:I.a.string().pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/).max(50).required()}),{email:"Please enter a valid email.",password:"Please enter a valid password."})}var z="".concat(A,"/users"),V={timeout:3e4,withCredentials:!0};function q(e){return J.apply(this,arguments)}function J(){return(J=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.post(z,Object(d.a)({},t),V));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return R(e,I.a.object({email:I.a.string().email({minDomainSegments:2,tlds:{allow:!1}}).required(),password:I.a.string().pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/).max(50).required(),firstName:I.a.string().min(2).max(20).required(),lastName:I.a.string().min(2).max(20).required(),birthday:I.a.date().required()}),{username:"Must be 3-30 characters long and contain at least one letter",password:"Must be 8-50 characters long and contain at least one uppercase letter and one lowercase letter",email:"Please enter a valid email",firstName:"Must be 2-20 characters long",lastName:"Must be 2-20 characters long",birthday:"Please enter a valid birthday"})}function Z(e){return W.apply(this,arguments)}function W(){return(W=Object(C.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.post("".concat(z,"/confirmation"),{token:t},V));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){var t=e.containerClass,a=void 0===t?"":t,n=e.labelClass,r=void 0===n?"":n,c=e.inputClass,s=void 0===c?"input":c,o=e.error,A=e.id,i=e.type,u=e.title,E=void 0===u?"":u,m=e.value,d=void 0===m?"":m,f=Object(g.a)(e,["containerClass","labelClass","inputClass","error","id","type","title","value"]);return l.a.createElement("div",{className:a},l.a.createElement("label",{htmlFor:A,className:"".concat(o?"error-text":""," ").concat(r)},E),"textarea"===i?l.a.createElement("textarea",Object.assign({id:A,value:d,className:"".concat(o?"error-border":""," ").concat(s)},f)):l.a.createElement("input",Object.assign({type:i,id:A,name:A,className:"".concat(o?"error-border":""," ").concat(s),value:d},f)),l.a.createElement("span",{className:"".concat(o?"error-text":"")},o))},ee=a(348),te=function(e){var t=e.containerClass,a=void 0===t?"circle-container center-container":t,n=e.circleClass,r=void 0===n?"circle":n;return l.a.createElement("div",{className:a},l.a.createElement(ee.a,{className:r}))},ae=a(164);function ne(e){var t=e.text,a=void 0===t?"":t,n=e.callback,r=void 0===n?function(){}:n,c=e.containerClass,s=void 0===c?"":c,o=e.innerContainerClass,A=void 0===o?"":o,i=e.textClass,u=void 0===i?"":i,E=e.markSize,m=void 0===E?"large":E,d=e.children;return setTimeout((function(){r()}),2e3),l.a.createElement("div",{className:s},l.a.createElement("div",{className:A},l.a.createElement(ae.Checkmark,{size:m}),l.a.createElement("h5",{className:u},a),d))}var re=function(e){var t=e.formClass,a=void 0===t?"form":t,n=e.inputFields,r=void 0===n?[]:n,c=e.inputValues,s=void 0===c?{}:c,o=e.errors,A=void 0===o?{}:o,i=e.success,u=void 0!==i&&i,E=e.buttonTitle,m=void 0===E?"SUBMIT":E,d=e.buttonClass,f=void 0===d?"btn":d,v=e.onChange,p=void 0===v?function(){}:v,C=e.onSubmit,b=void 0===C?function(){}:C,S=e.onSuccess,h=void 0===S?function(){}:S,I=e.isLoading,R=void 0!==I&&I,O=e.disableBtn,N=void 0!==O&&O;return l.a.createElement("form",{className:a,onSubmit:b},r.map((function(e){var t=e.name,a=Object(g.a)(e,["name"]);return l.a.createElement($,Object.assign({key:t,name:t,value:s[t],error:A[t],onChange:p},a))})),l.a.createElement("div",{className:"submit-box"},R?l.a.createElement(te,{containerClass:"form-loading mr-2 center-container"}):u?l.a.createElement(ne,{callback:h,containerClass:"mr-2"}):l.a.createElement("button",{type:"submit",className:f,disabled:N},m)))},ce=a(60);function se(e,t){var a=Object(i.useState)(e),n=Object(f.a)(a,2),r=n[0],c=n[1],s=Object(i.useState)({}),o=Object(f.a)(s,2),A=o[0],l=o[1];return Object(i.useEffect)((function(){l({})}),[]),{inputs:r,setInputs:c,formErrors:A,setFormErrors:l,handleTextChange:function(e){var t=e.target,a=t.name,n=t.value;c(Object(d.a)(Object(d.a)({},r),{},Object(ce.a)({},a,n)))},handleSubmit:function(e){e.preventDefault(),t()}}}var oe=a(15),Ae=Object(oe.a)(),ie=function(){return l.a.createElement("div",{className:"error-500 error-page center-container min-h-100"},l.a.createElement("div",{className:"error-500__inner-container"},l.a.createElement("h2",null,"Oops! Sorry about that..."),l.a.createElement("h4",null,"Our team is working on fixing this problem,\nPlease try again later."),l.a.createElement("div",{className:"mt-2"},l.a.createElement("button",{className:"btn",onClick:function(){return Ae.push("/")}},"GO HOME"))))},le=a(165),ue=a.n(le),Ee={LOG_IN_REQUEST:"LOG_IN_REQUEST",LOG_IN_SUCCESS:"LOG_IN_SUCCESS",LOG_IN_FAILURE:"LOG_IN_FAILURE",REFRESH_LOG_IN_REQUEST:"REFRESH_LOG_IN_REQUEST",REFRESH_LOG_IN_SUCCESS:"REFRESH_LOG_IN_SUCCESS",REFRESH_LOG_IN_FAILURE:"REFRESH_LOG_IN_FAILURE",LOG_OUT:"LOG_OUT",FETCH_MESSAGES_REQUEST:"FETCH_MESSAGES_REQUEST",FETCH_MESSAGES_SUCCESS:"FETCH_MESSAGES_SUCCESS",FETCH_MESSAGES_FAILURE:"FETCH_MESSAGES_FAILURE",FETCH_MESSAGE_BY_ID_REQUEST:"FETCH_MESSAGE_BY_ID_REQUEST",FETCH_MESSAGE_BY_ID_SUCCESS:"FETCH_MESSAGE_BY_ID_SUCCESS",FETCH_MESSAGE_BY_ID_FAILURE:"FETCH_MESSAGE_BY_ID_FAILURE",SEND_MESSAGE_REQUEST:"SEND_MESSAGE_REQUEST",SEND_MESSAGE_SUCCESS:"SEND_MESSAGE_SUCCESS",SEND_MESSAGE_FAILURE:"SEND_MESSAGE_FAILURE",DELETE_MESSAGE_REQUEST:"DELETE_MESSAGE_REQUEST",DELETE_MESSAGE_SUCCESS:"DELETE_MESSAGE_SUCCESS",DELETE_MESSAGE_FAILURE:"DELETE_MESSAGE_FAILURE"},me={MESSAGES:"/messages",COMPOSE_MESSAGE:"/messages/compose",MESSAGE:"/message",LOGIN:"/login",REGISTER:"/register",NOT_FOUND:"/not-found"},de=a(84),ge=a.n(de),fe=function(e){return function(){var t=Object(C.a)(p.a.mark((function t(a){var n,c,s,o,A;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(pe()),t.prev=1,t.next=4,r.login(e);case 4:n=t.sent,c=n.data,s=null===c||void 0===c?void 0:c.accessToken,o=null===c||void 0===c?void 0:c.refreshToken,O(s,o),A=ge.a.decode(s),a(Ce(A)),Ae.push(me.MESSAGES),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.log("Failed login request: ",t.t0),a(be(null===t.t0||void 0===t.t0?void 0:t.t0.response));case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(C.a)(p.a.mark((function t(a){var n,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(pe()),t.prev=1,t.next=4,r.refreshLogin(e);case 4:n=t.sent,O(c=n.data,e),s=ge.a.decode(c),a(Ce(s)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Failed login request: ",t.t0),a(be(null===t.t0||void 0===t.t0?void 0:t.t0.response));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()};function pe(){return{type:Ee.LOG_IN_REQUEST}}function Ce(e){return{type:Ee.LOG_IN_SUCCESS,payload:{user:Object(d.a)({},e)}}}function be(e){return{type:Ee.LOG_IN_FAILURE,payload:{error:e}}}var Se=function(){return function(){var e=Object(C.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:Ee.LOG_OUT}),e.prev=1,!(a=N().rt)){e.next=6;break}return e.next=6,r.logout(a);case 6:localStorage.removeItem("jwt"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Failed logout request: ",e.t0);case 12:Ae.push(me.LOGIN);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},he=function(e){return function(){var t=Object(C.a)(p.a.mark((function t(a){var r,c,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(e){return{type:Ee.FETCH_MESSAGES_FAILURE,payload:{error:e}}},s=function(e){return{type:Ee.FETCH_MESSAGES_SUCCESS,payload:{messages:e}}},a(function(){return{type:Ee.FETCH_MESSAGES_REQUEST}}()),t.prev=4,t.next=7,n.fetchMessages(e);case 7:r=t.sent,c=r.data,a(s(c)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),Ne(t.t0,a,o);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(C.a)(p.a.mark((function t(a){var r,c,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(e){return{type:Ee.FETCH_MESSAGE_BY_ID_FAILURE,payload:{error:e}}},s=function(e){return{type:Ee.FETCH_MESSAGE_BY_ID_SUCCESS,payload:{message:e}}},a(function(){return{type:Ee.FETCH_MESSAGE_BY_ID_REQUEST}}()),t.prev=4,t.next=7,n.fetchMessageById(e);case 7:r=t.sent,c=r.data,a(s(c)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),Ne(t.t0,a,o);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var a=Object(C.a)(p.a.mark((function a(r){var c,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=function(e){return{type:Ee.DELETE_MESSAGE_FAILURE,payload:{error:e}}},c=function(e){return{type:Ee.DELETE_MESSAGE_SUCCESS,payload:{messageId:e}}},r(function(){return{type:Ee.DELETE_MESSAGE_REQUEST}}()),a.prev=4,a.next=7,n.deleteMessage(e);case 7:r(c(e)),t(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),Ne(a.t0,r,s);case 14:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(e){return a.apply(this,arguments)}}()},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var a=Object(C.a)(p.a.mark((function a(r){var c,s,o,A;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return A=function(e){return{type:Ee.SEND_MESSAGE_FAILURE,payload:{error:e}}},o=function(e){return{type:Ee.SEND_MESSAGE_SUCCESS,payload:{message:e}}},r(function(){return{type:Ee.SEND_MESSAGE_REQUEST}}()),a.prev=4,a.next=7,n.sendMessage(e);case 7:c=a.sent,s=c.data,r(o(s)),t(),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),Ne(a.t0,r,A);case 16:case"end":return a.stop()}}),a,null,[[4,13]])})));return function(e){return a.apply(this,arguments)}}()};function Ne(e,t,a){var n,r;if(console.log("Failed fetch messagesReducer request: ",e),403===(null===(n=e.response)||void 0===n?void 0:n.status)){var c=N().rt;return c||t(Se()),t(ve(c))}if(401===(null===(r=e.response)||void 0===r?void 0:r.status))return t(Se());t(a(e.response))}var De=Ee,we=function(e){var t=e.onLogout;return l.a.createElement("button",{className:"logout-btn",onClick:t},l.a.createElement("i",{className:"fas fa-sign-out-alt"}))},Qe=function(e){return e.authReducer},Be=function(e){return e.authReducer.isAuthenticated},ye=function(e){return e.authReducer.user},je=function(e){return e.messagesReducer};var Le=function(){var e=Object(m.c)(Be),t=Object(m.b)();return l.a.createElement("div",{className:"nav-bar"},l.a.createElement("div",{className:"logo-wrapper"},l.a.createElement("img",{src:ue.a,alt:"",className:"logo"})),e&&l.a.createElement(we,{onLogout:function(){return t(s.logoutAction())}}))},Ue=a(166),ke=a.n(Ue),Ge=a(34),Fe=a.n(Ge),Me=function(e){var t=e.onClick,a=void 0===t?function(){}:t;return l.a.createElement("button",{className:"scroll-down-btn",onClick:a},l.a.createElement("i",{className:"fas fa-arrow-down"}))};function Pe(e){var t=e.mainRef,a=Object(m.c)(ye),n=Object(i.useMemo)((function(){var e=Fe()(null===a||void 0===a?void 0:a.birthday),t=Fe()(Date.now());return t.date()===e.date()&&t.month()===e.month()}),[a]);return l.a.createElement("header",{className:"header"},l.a.createElement(Le,null),l.a.createElement("div",{className:"header__banner center-container"},l.a.createElement("div",{className:"header__banner-content"},l.a.createElement("div",null,l.a.createElement("h1",null,"Messenger."),(null===a||void 0===a?void 0:a.firstName)&&l.a.createElement("p",null,n?"Happy birthday":"Welcome back",", ",l.a.createElement("em",null,null===a||void 0===a?void 0:a.firstName)," !")),l.a.createElement("img",{src:ke.a,alt:"",className:"logo"})),l.a.createElement("div",null,l.a.createElement(Me,{onClick:function(e){e.preventDefault(),t.current&&t.current.scrollIntoView()}}))))}var Te=function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("strong",{className:"footer__text"},"Made by ",l.a.createElement("em",null,"Daniel Soifer")," 2020 \xa9"))};function xe(e){var t=e.children,a=Object(i.useRef)(null);return Object(i.useEffect)((function(){window.scrollTo(0,0);var e=setTimeout((function(){a.current&&a.current.scrollIntoView()}),1e3);return function(){return clearTimeout(e)}}),[]),l.a.createElement(i.Fragment,null,l.a.createElement(Pe,{mainRef:a}),l.a.createElement("main",{id:"main",className:"main",ref:a},t),l.a.createElement(Te,null))}var _e=a(167),He=a.n(_e),Ye=function(e){var t=e.onClick;return l.a.createElement("div",{className:"go-back-btn-container"},l.a.createElement("button",{className:"go-back-btn",onClick:t},l.a.createElement("i",{className:"fas fa-arrow-left"})))};function Ke(){var e=Object(i.useState)({}),t=Object(f.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(!1),c=Object(f.a)(r,2),s=c[0],o=c[1],A=Object(i.useState)(!1),l=Object(f.a)(A,2),u=l[0],E=l[1],m=Object(i.useState)(""),g=Object(f.a)(m,2),v=g[0],b=g[1],S=Object(i.useState)(!1),h=Object(f.a)(S,2),I=h[0],R=h[1],O=Object(i.useCallback)((function(){n({}),o(!1),b(""),E(!1),R(!1)}),[]),N=Object(i.useCallback)(function(){var e=Object(C.a)(p.a.mark((function e(t){var a,r,c,s,A,i,l=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(O(),o(!0),e.prev=2,a=l.length,r=new Array(a>1?a-1:0),c=1;c<a;c++)r[c-1]=l[c];return e.next=6,t.apply(void 0,r);case 6:s=e.sent,n(Object(d.a)({},s.data)),R(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response),500===(null===(A=e.t0.response)||void 0===A?void 0:A.status)?E(!0):b(null===(i=e.t0.response)||void 0===i?void 0:i.data);case 15:o(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),[O]);return{data:a,isLoading:s,badRequestError:v,apiError:u,success:I,setSuccess:R,load:N}}function ze(){var e=Object(i.useState)(!0),t=Object(f.a)(e,2),a=t[0],n=t[1];return[a,function(){return n((function(e){return!e}))},Object(i.useRef)()]}function Ve(){var e=Object(m.b)(),t=Object(m.c)(je);return{messages:t.messages,isLoading:t.isLoading,success:t.success,error:t.error,storeDispatch:e}}var qe,Je=[{name:"receivers",title:"To",type:"text",placeholder:"Enter target Emails / IDs separated with spaces / commas",containerClass:"input-container",inputClass:"input"},{name:"subject",title:"Subject",type:"text",placeholder:"Enter a subject",containerClass:"input-container",inputClass:"input"},{name:"content",title:"Message",type:"textarea",placeholder:"What's on your mind?",containerClass:"input-container",inputClass:"input"}];var Xe=function(e){var t=e.location,a=Ve(),r=a.isLoading,c=a.error,s=a.storeDispatch,o=se({},(function(){var e=A.receivers,t=Object(g.a)(A,["receivers"]),a=Object(d.a)({},t),r={},c=!0,o=n.validateMessage(t);o&&(c=!1,r=Object(d.a)({},o));var i=e.split(/[ ,]+/)||[];i.every((function(e){return/\S+@\S+\.\S+/.test(e)}))?a.receiverEmails=i:i.every((function(e){return/^[0-9a-fA-F]{24}$/.test(e)}))?a.receiverIds=i:(c=!1,r.receivers="Must be a valid list of email addresses, or a valid list of user IDs separated by spaces/commas");if(!c)return p(r);s(Oe(a,(function(){h(!0),u({}),p({}),qe=setTimeout((function(){return h(!1)}),3e3)})))})),A=o.inputs,u=o.setInputs,E=o.handleSubmit,m=o.handleTextChange,v=o.formErrors,p=o.setFormErrors,C=Object(i.useState)(!1),b=Object(f.a)(C,2),S=b[0],h=b[1];return Object(i.useEffect)((function(){if(t.search){var e=He.a.parse(t.search),a=e.to,n=e.subject;a&&n&&u({receivers:a,subject:n})}return function(){return clearTimeout(qe)}}),[t.search,u]),Object(i.useEffect)((function(){400===(null===c||void 0===c?void 0:c.status)&&p({receivers:null===c||void 0===c?void 0:c.reason})}),[c,p]),500===(null===c||void 0===c?void 0:c.status)?l.a.createElement(ie,null):l.a.createElement(xe,null,l.a.createElement("div",{className:"compose-message-page"},l.a.createElement(Ye,{onClick:function(){return Ae.push(me.MESSAGES)}}),l.a.createElement("div",{className:"compose-message-page__inner-container"},l.a.createElement("div",{className:"compose-message-page__header"},l.a.createElement("h3",{className:"compose-message-page__title"},"New Message")),l.a.createElement(re,{inputValues:A,inputFields:Je,onChange:m,onSubmit:E,errors:v,buttonTitle:"SEND",isLoading:r,success:S}))))},Ze=function(){return l.a.createElement("div",{className:"not-found-404 error-page center-container min-h-100"},l.a.createElement("div",{className:"not-found-404__inner-container"},l.a.createElement("h2",null,"Page not found 404 :("),l.a.createElement("div",{className:"mt-2"},l.a.createElement("button",{className:"btn",onClick:function(){return Ae.push("/")}},"GO HOME"))))},We=function(e){var t=e.component,a=e.isAuthenticated,n=e.fallbackPath,r=Object(g.a)(e,["component","isAuthenticated","fallbackPath"]);return l.a.createElement(E.b,Object.assign({},r,{render:function(e){return a?l.a.createElement(t,Object.assign({},e,r)):l.a.createElement(E.a,{to:n})}}))},$e=a(31),et=[{title:"Email",type:"email",name:"email",placeholder:"Enter email"},{title:"Password",type:"password",name:"password",placeholder:"Enter password"}];function tt(){var e=Object(m.b)(),t=Object(m.c)(Qe),a=t.isLoading,n=t.error,c=se({},(function(){d({}),C("");var t=r.validateLoginForm(o);if(t)return d(t);e(s.loginAction(o))})),o=c.inputs,A=c.handleTextChange,u=c.handleSubmit,E=c.formErrors,d=c.setFormErrors,g=Object(i.useState)(""),v=Object(f.a)(g,2),p=v[0],C=v[1];return Object(i.useLayoutEffect)((function(){401===(null===n||void 0===n?void 0:n.status)&&C("Wrong Username or Password.")}),[n,d,C]),500===(null===n||void 0===n?void 0:n.status)?l.a.createElement(ie,null):l.a.createElement(xe,null,l.a.createElement("div",{className:"form-container"},l.a.createElement("h3",null,"Sign In"),l.a.createElement("hr",null),l.a.createElement(re,{inputFields:et,inputValues:o,buttonTitle:"sign in",onChange:A,onSubmit:u,isLoading:a,errors:E}),l.a.createElement("span",{style:{color:"red"}},p),l.a.createElement("nav",null,l.a.createElement($e.a,{to:"register",className:"form-link"},"Create account"))))}var at=function(){return l.a.createElement("div",{className:"success"},l.a.createElement("h5",null,l.a.createElement("b",null,"A verification link has been sent to your email account.")),l.a.createElement("p",null,"Please check your mail and click on the link that has just been sent to your email account to verify your email and continue the registration process."))},nt=[{title:"Email",type:"text",name:"email",placeholder:"Enter your email"},{title:"Password",type:"password",name:"password",placeholder:"Enter password"},{title:"First Name",type:"text",name:"firstName",placeholder:"Enter your first name"},{title:"Last Name",type:"text",name:"lastName",placeholder:"Enter your last name"},{title:"Birthday",type:"date",name:"birthday"}];function rt(){var e=Ke(),t=e.isLoading,a=e.apiError,n=e.badRequestError,r=e.success,s=e.load,o=se({},(function(){return f.apply(this,arguments)})),A=o.inputs,u=o.formErrors,E=o.setFormErrors,m=o.handleTextChange,g=o.handleSubmit;function f(){return(f=Object(C.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=c.validateRegisterForm(A))){e.next=3;break}return e.abrupt("return",E(Object(d.a)({},t)));case 3:return e.next=5,s(c.register,A);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useLayoutEffect)((function(){n&&E({email:n})}),[n,E]),r?l.a.createElement(ne,{callback:function(){setTimeout((function(){return Ae.push(me.LOGIN)}),1e4)},containerClass:"m-ver-8"},l.a.createElement(at,null)):a&&500===a.status?l.a.createElement(ie,null):l.a.createElement(xe,null,l.a.createElement("div",{className:"form-container"},l.a.createElement("h3",null,"Create Account"),l.a.createElement("hr",null),l.a.createElement(re,{inputFields:nt,inputValues:A,buttonTitle:"Sign Up",onChange:m,onSubmit:g,errors:u,isLoading:t}),l.a.createElement("nav",null,l.a.createElement($e.a,{to:"/",className:"form-link"},"Already have an account?"))))}var ct=function(e){var t=e.links,a=e.activeLink,n=e.onLinkClick,r=e.navClass,c=void 0===r?"":r,s=e.innerContainerClass,o=void 0===s?"":s,A=e.activeLinkClass,i=void 0===A?"":A,u=e.withIndicator,E=void 0===u||u;return l.a.createElement("nav",{className:"nav ".concat(c)},l.a.createElement("ul",{className:o},t.map((function(e,t){var r=e.name,c=e.href,s=e.children,o=e.target,A=e.itemClass,u=e.linkClass;return l.a.createElement("li",{key:"".concat(c,"-").concat(t),className:"".concat(A," ").concat(r===a&&"active-item")},l.a.createElement("a",{name:r,className:"".concat(u," ").concat(r===a&&i),href:c,target:o,onClick:n},s))})),E&&l.a.createElement("hr",null)))},st=function(e){var t=e.onRefresh,a=void 0===t?function(){}:t;return l.a.createElement("button",{className:"refresh-btn",onClick:a},l.a.createElement("i",{className:"fas fa-redo-alt"}))},ot=[{name:"received",children:"Received",itemClass:"first"},{name:"sent",children:"Sent",itemClass:"second"}],At=function(e){var t=e.activeTab,a=e.onTabChange,n=e.onRefresh;return l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:"refresh-bar"},l.a.createElement(st,{onRefresh:n})),l.a.createElement(ct,{links:ot,navClass:"messages-tab-nav",innerContainerClass:"messages-tab-nav__inner-container",activeLink:t,activeLinkClass:"active-link",onLinkClick:a}),l.a.createElement("span",{className:"target"}))};function it(e){var t=e.isHidden,a=e.children,n=e.outerContainerClass,r=void 0===n?"":n,c=e.innerContainerClass,s=void 0===c?"":c,o=e.onClose,A=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=function(e){e.target===A.current&&o()},a=function(e){"Escape"===e.key&&(t||o())};return window.addEventListener("click",e),window.addEventListener("keyup",a),function(){window.removeEventListener("click",e),window.removeEventListener("keyup",a)}}),[t,A,o]),l.a.createElement("div",{ref:A,className:"modal ".concat(r," ").concat(t?"hide":"")},l.a.createElement("div",{className:"modal-content ".concat(s," animated fadeIn")},a))}var lt,ut=function(e){var t=e.isHidden,a=e.onDelete,n=e.onClose;return l.a.createElement(it,{isHidden:t,onClose:n,innerContainerClass:"delete-message-modal__inner-container"},l.a.createElement("div",{className:"delete-message-modal__header"},l.a.createElement("h5",{className:"delete-message-modal__title"},"Confirm Deletion"),l.a.createElement("p",null,"Delete this message?")),l.a.createElement("div",{className:"delete-message-modal__options"},l.a.createElement("button",{className:"delete-message-modal__options-yes",onClick:a},"Delete"),l.a.createElement("button",{className:"delete-message-modal__options-no",onClick:n},"Don't delete")))},Et=function(e){var t=e.onClick;return l.a.createElement("button",{className:"add-btn",onClick:t},l.a.createElement("i",{className:"fas fa-plus"}))},mt=function(e){var t=e.onReply,a=e.onDelete;return l.a.createElement("ul",{className:"message-options"},l.a.createElement("li",null,l.a.createElement("button",{onClick:t},"Reply")),l.a.createElement("li",null,l.a.createElement("button",{onClick:a},"Delete")))},dt=function(e){var t=e.isHidden,a=e.onDelete,n=e.onReply,r=e.onClose;return l.a.createElement(it,{isHidden:t,onClose:r,innerContainerClass:"message-options-modal__inner-class"},l.a.createElement(mt,{onReply:n,onDelete:a}))},gt={RECEIVED:"received",SENT:"sent"},ft=function(e){var t=e.onClick,a=void 0===t?function(){}:t,n=e.className,r=void 0===n?"":n;return l.a.createElement("button",{className:"options-btn ".concat(r),onClick:a},l.a.createElement("i",{className:"fas fa-ellipsis-v"}))},vt=function(e){var t=e.onClick,a=void 0===t?function(){}:t,n=e.className,r=void 0===n?"":n;return l.a.createElement("button",{className:"reply-btn ".concat(r),onClick:a},l.a.createElement("i",{className:"fas fa-share"}))},pt=function(e){var t=e.onClick,a=void 0===t?function(){}:t,n=e.className,r=void 0===n?"":n;return l.a.createElement("button",{className:"delete-btn ".concat(r),onClick:a},l.a.createElement("i",{className:"fas fa-trash-alt"}))},Ct=function(e){var t=e._id,a=e.senderId,n=e.senderName,r=e.receiverNames,c=e.subject,s=e.sentAt,o=e.activeTab,A=void 0===o?gt.RECEIVED:o,i=e.onMessageClick,u=void 0===i?function(){}:i,E=e.onOptionsBtnClick,m=void 0===E?function(){}:E,d=e.onReplyBtnClick,g=void 0===d?function(){}:d,f=e.onDeleteBtnClick,v=void 0===f?function(){}:f;return l.a.createElement("tr",{id:t,"data-sender-id":a,"data-subject":c,onClick:u},l.a.createElement("td",{className:"col1 truncate"},A===gt.RECEIVED?n:"To: ".concat(r.join(", "))),l.a.createElement("td",{className:"col2 truncate"},c),l.a.createElement("td",{className:"col3"},Fe()(s).calendar({sameDay:"HH:mm",nextDay:"D MMM",nextWeek:"D MMM",lastDay:"D MMM",lastWeek:"D MMM",sameElse:"D MMM"})),l.a.createElement("td",{className:"col4"},l.a.createElement(ft,{onClick:m}),A===gt.RECEIVED&&l.a.createElement(vt,{onClick:g}),l.a.createElement(pt,{onClick:v})))},bt=function(e){var t=e.messages,a=void 0===t?[]:t,n=e.activeTab,r=void 0===n?gt.RECEIVED:n,c=e.onMessageClick,s=void 0===c?function(){}:c,o=e.onReplyBtnClick,A=void 0===o?function(){}:o,i=e.onDeleteBtnClick,u=void 0===i?function(){}:i,E=e.onOptionsBtnClick,m=void 0===E?function(){}:E;return a.length?l.a.createElement("table",{className:"messages-table"},l.a.createElement("tbody",null,a.map((function(e){return l.a.createElement(Ct,Object.assign({key:e._id,activeTab:r,onMessageClick:s,onReplyBtnClick:A,onDeleteBtnClick:u,onOptionsBtnClick:m},e))})))):l.a.createElement("div",{className:"empty-tab-text"},l.a.createElement("h5",null,"This tab is empty."),l.a.createElement("p",null,"Personal messages will be shown here."))};var St=function(){var e=Ve(),t=e.messages,a=e.isLoading,n=e.error,r=e.storeDispatch,c=Object(i.useState)(gt.RECEIVED),s=Object(f.a)(c,2),A=s[0],u=s[1],E=ze(),m=Object(f.a)(E,2),d=m[0],g=m[1],v=ze(),p=Object(f.a)(v,2),C=p[0],b=p[1];return Object(i.useEffect)((function(){r(o.fetchMessagesAction(A))}),[A,r]),n?l.a.createElement(ie,null):l.a.createElement(xe,null,l.a.createElement("div",{className:"manage-messages-page"},l.a.createElement("div",{className:"manage-messages-page__inner-container"},l.a.createElement(At,{activeTab:A,onTabChange:function(e){e.preventDefault(),u(e.target.name)},onRefresh:function(e){e.preventDefault(),r(o.fetchMessagesAction(A))}}),a?l.a.createElement(te,{containerClass:"center-container m-ver-8"}):l.a.createElement(bt,{messages:t,activeTab:A,onMessageClick:function(e){e.stopPropagation(),Ae.push("/message/".concat(e.target.closest("tr").id))},onDeleteBtnClick:function(e){e.stopPropagation(),lt=e.target.closest("tr").id,b()},onReplyBtnClick:function(e){e.stopPropagation();var t=e.target.closest("tr"),a=t.getAttribute("data-sender-id"),n="RE: ".concat(t.getAttribute("data-subject"));Ae.push("/messages/compose?to=".concat(a,"&subject=").concat(encodeURIComponent(n)))},onOptionsBtnClick:function(e){e.stopPropagation();var t=e.target.closest("tr");lt=t.id,g()}}),l.a.createElement(Et,{onClick:function(){return Ae.push("/messages/compose")}}),l.a.createElement(ut,{isHidden:C,onClose:b,onDelete:function(){r(o.deleteMessageAction(lt)),b()}}),l.a.createElement(dt,{isHidden:d,onDelete:function(e){g(),b()},onReply:function(e){var t=document.getElementById(lt),a=t.getAttribute("data-sender-id"),n="RE: ".concat(t.getAttribute("data-subject"));Ae.push("/messages/compose?to=".concat(a,"&subject=").concat(encodeURIComponent(n)))},onClose:g}))))},ht=function(e){var t=e.component,a=e.isAuthenticated,n=e.fallbackPath,r=Object(g.a)(e,["component","isAuthenticated","fallbackPath"]);return l.a.createElement(E.b,Object.assign({},r,{render:function(e){return a?l.a.createElement(E.a,{to:n}):l.a.createElement(t,Object.assign({},e,r))}}))};function It(e){var t=function(e){var t=Ke(),a=t.data,n=t.isLoading,r=t.apiError,s=t.badRequestError,o=t.success,A=t.load;return Object(i.useEffect)((function(){function t(){return(t=Object(C.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(c.confirmUser,e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(e){return console.log(e)}))}),[e,A]),{data:a,isLoading:n,apiError:r,badRequestError:s,success:o}}(e.match.params.token),a=t.apiError,n=t.badRequestError,r=t.success;return a?l.a.createElement(ie,null):n?l.a.createElement(Ze,null):l.a.createElement("div",{className:"confirm"},r?l.a.createElement(ne,{callback:function(){setTimeout((function(){return Ae.push(me.LOGIN)}),2e3)},containerClass:"m-ver-8",innerContainerClass:"success",text:"Your account has been verified successfully!"}):l.a.createElement(te,null))}var Rt=function(e){var t=e.senderId,a=void 0===t?"":t,n=e.receiverIds,r=void 0===n?[]:n,c=e.senderName,s=void 0===c?"":c,o=e.receiverNames,A=void 0===o?[]:o,i=e.subject,u=void 0===i?"":i,E=e.content,m=void 0===E?"":E;return l.a.createElement("section",{className:"message__text"},l.a.createElement("h3",{className:"message__text-title"},u),l.a.createElement("p",{className:"message__text-subtitle"},"From: ",l.a.createElement("em",null,s)," [",a,"]"),l.a.createElement("p",{className:"message__text-subtitle"},"To: ",l.a.createElement("em",null,A.join(", "))," [",r.join(", "),"]"),l.a.createElement("br",null),l.a.createElement("p",{className:"message__text-body",style:{whiteSpace:"pre-line"}},m))},Ot=function(e){var t=e.onDelete,a=e.sentAt;return l.a.createElement("section",{className:"message-tools-bar"},l.a.createElement("div",{className:"message-tools-bar__info"},l.a.createElement("i",{className:"message-tools-bar__info-timestamp"},Fe()(a).format("D MMM YYYY"))),l.a.createElement("div",{className:"message-tools-bar__btns"},l.a.createElement(pt,{onClick:t,className:"message-btn"})))},Nt=function(e){var t=e._id,a=e.senderName,n=e.receiverNames,r=e.senderId,c=e.receiverIds,s=e.subject,o=void 0===s?"":s,A=e.content,i=void 0===A?"":A,u=e.sentAt,E=e.onReply,m=void 0===E?function(){}:E,d=e.onDelete,g=void 0===d?function(){}:d,f=e.containerClass,v=void 0===f?"":f;return l.a.createElement("article",{className:"message ".concat(v),id:t},l.a.createElement(Rt,{subject:o,content:i,senderName:a,receiverNames:n,senderId:r,receiverIds:c}),l.a.createElement(Ot,{onDelete:g,onReply:m,sentAt:u}))};var Dt=function(e){var t=e.match,a=Ve(),n=a.messages,r=a.isLoading,c=a.error,s=a.storeDispatch,A=ze(),u=Object(f.a)(A,2),E=u[0],m=u[1],d=Object(i.useState)({}),g=Object(f.a)(d,2),v=g[0],p=g[1];return Object(i.useEffect)((function(){var e=t.params.id;if(!/^[0-9a-fA-F]{24}$/.test(e))return Ae.push(me.NOT_FOUND);var a=n.find((function(t){return t._id===e}));a?p(a):s(o.fetchMessageByIdAction(e))}),[t,s,n]),500===(null===c||void 0===c?void 0:c.status)?l.a.createElement(ie,null):l.a.createElement(xe,null,l.a.createElement("div",{className:"single-message-page"},l.a.createElement(Ye,{onClick:function(){return Ae.push(me.MESSAGES)}}),l.a.createElement("div",{className:"single-message-page__inner-container"},r?l.a.createElement(te,{containerClass:"center-container m-ver-8"}):400===(null===c||void 0===c?void 0:c.status)?l.a.createElement("p",{className:"error-text message-not-found-error"},null===c||void 0===c?void 0:c.reason):l.a.createElement(i.Fragment,null,l.a.createElement(Nt,Object.assign({onDelete:m},v)),l.a.createElement(ut,{isHidden:E,onClose:m,onDelete:function(){var e=Ae.push(me.MESSAGES);s(Re(v._id,e)),m()}})))))};a(335);function wt(){var e=Object(m.c)(Be);return l.a.createElement(E.c,{history:Ae},l.a.createElement(E.d,null,l.a.createElement(ht,{exact:!0,path:["/","/login"],component:tt,isAuthenticated:e,fallbackPath:"/messages"}),l.a.createElement(ht,{path:"/register",component:rt,isAuthenticated:e,fallbackPath:"/messages"}),l.a.createElement(ht,{exact:!0,path:"/confirm/:token",component:It,isAuthenticated:e,fallbackPath:"/"}),l.a.createElement(We,{exact:!0,path:"/messages/compose",component:Xe,isAuthenticated:e,fallbackPath:"/"}),l.a.createElement(We,{exact:!0,path:"/messages",component:St,isAuthenticated:e,fallbackPath:"/"}),l.a.createElement(We,{exact:!0,path:"/message/:id",component:Dt,isAuthenticated:e,fallbackPath:"/"}),l.a.createElement(E.b,{component:Ze})))}var Qt=a(33),Bt=a(168),yt=a(87),jt={messages:[],isLoading:!1,success:!1,error:null};function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case De.FETCH_MESSAGE_BY_ID_SUCCESS:case De.SEND_MESSAGE_SUCCESS:return Object(d.a)({},n.message);default:return e}}var Ut=Object(Qt.c)({messagesReducer:function(){var e,t,a,n,r,c,s,o,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case De.FETCH_MESSAGES_REQUEST:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!0,success:!1,error:null});case De.FETCH_MESSAGES_SUCCESS:return Object(d.a)(Object(d.a)({},A),{},{messages:Object(yt.a)(i.payload.messages),isLoading:!1,success:!0});case De.FETCH_MESSAGES_FAILURE:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!1,error:{status:(null===(e=i.payload.error)||void 0===e?void 0:e.status)||500,reason:null===(t=i.payload.error)||void 0===t?void 0:t.data}});case De.FETCH_MESSAGE_BY_ID_REQUEST:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!0,success:!1,error:null});case De.FETCH_MESSAGE_BY_ID_SUCCESS:return Object(d.a)(Object(d.a)({},A),{},{messages:[Lt({},i)].concat(Object(yt.a)(A.messages)),isLoading:!1,success:!0});case De.FETCH_MESSAGE_BY_ID_FAILURE:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!1,error:{status:(null===(a=i.payload.error)||void 0===a?void 0:a.status)||500,reason:null===(n=i.payload.error)||void 0===n?void 0:n.data}});case De.SEND_MESSAGE_REQUEST:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!0,success:!1,error:null});case De.SEND_MESSAGE_SUCCESS:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!1,success:!0});case De.SEND_MESSAGE_FAILURE:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!1,error:{status:(null===(r=i.payload.error)||void 0===r?void 0:r.status)||500,reason:null===(c=i.payload.error)||void 0===c?void 0:c.data}});case De.DELETE_MESSAGE_REQUEST:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!0,success:!1,error:null});case De.DELETE_MESSAGE_SUCCESS:return Object(d.a)(Object(d.a)({},A),{},{messages:A.messages.filter((function(e){return e._id!==i.payload.messageId})),isLoading:!1,success:!0});case De.DELETE_MESSAGE_FAILURE:return Object(d.a)(Object(d.a)({},A),{},{isLoading:!1,error:{status:(null===(s=i.payload.error)||void 0===s?void 0:s.status)||500,reason:null===(o=i.payload.error)||void 0===o?void 0:o.data}});default:return A}},authReducer:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=n.type,c=n.payload;switch(r){case De.LOG_IN_REQUEST:return{isAuthenticated:!1,isLoading:!0};case De.LOG_IN_SUCCESS:return{isAuthenticated:!0,isLoading:!1,user:c.user};case De.REFRESH_LOG_IN_FAILURE:case De.LOG_IN_FAILURE:return{error:{status:(null===(e=c.error)||void 0===e?void 0:e.status)||500,reason:null===(t=c.error)||void 0===t?void 0:t.data}};case De.REFRESH_LOG_IN_REQUEST:return Object(d.a)(Object(d.a)({},a),{},{isAuthenticated:!1,isLoading:!0});case De.REFRESH_LOG_IN_SUCCESS:return Object(d.a)(Object(d.a)({},a),{},{isAuthenticated:!0,isLoading:!1});case De.LOG_OUT:return{};default:return a}}});var kt=function(e){return function(t){return function(a){var n=t(a),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authReducer:{}},t=e.authReducer,a=(t.error,t.isLoading,Object(g.a)(t,["error","isLoading"]));return Object(d.a)(Object(d.a)({},e),{},{authReducer:Object(d.a)({},a)})}(e.getState());return localStorage["redux-store"]=JSON.stringify(r),n}}},Gt=function(e){return function(t){return function(a){console.groupCollapsed("dispatching",a.type),console.log("prev state",e.getState()),console.log("action",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}};var Ft=Object(Qt.d)(Ut,localStorage["redux-store"]?JSON.parse(localStorage["redux-store"]):{},Object(Qt.a)(kt,Bt.a,Gt));Object(u.render)(l.a.createElement(m.a,{store:Ft},l.a.createElement(wt,null)),document.getElementById("root"))}},[[170,1,2]]]);